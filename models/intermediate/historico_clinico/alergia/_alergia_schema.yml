version: 2

models:
  - name: int_historico_clinico__alergia__vitai
    description: |
        Este modelo agrega informações sobre alergias dos pacientes e combina essas informações com dados identificadores dos pacientes como `cns` e `cpf`. Ele realiza a limpeza e padronização dos dados de alergias e garante que os identificadores dos pacientes sejam consistentes e precisos.

    columns:
      - name: id_paciente
        description: |
          Identificador único do paciente. Este campo é utilizado para associar os dados de alergia com o paciente correspondente.
        tests:
          - not_null:
              name: alergia__id_paciente_vitai__notnull
      - name: cns
        description: |
          Número do Sistema Único de Saúde do paciente.
      - name: cpf
        description: |
          Cadastro de Pessoas Físicas do paciente.
      - name: alergias  
        description: |
          Lista de alergias do paciente, agregada a partir dos registros individuais. As alergias são limpadas e padronizadas, e a lista contém apenas valores distintos.
        tests:
          - not_null:
              name: alergia__descricao_alergia_vitai__notnull