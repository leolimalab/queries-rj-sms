version: 2

sources:
  - name: brutos_prontuario_vitai_staging
    database: rj-sms
    schema: brutos_prontuario_vitai_staging
    tables:
      - name: estoque_posicao
        loaded_at_field: "CAST(data_particao AS TIMESTAMP)"
        freshness:
          warn_after: {count: 24, period: hour}
          error_after: {count: 48, period: hour}
      - name: estoque_movimento
        loaded_at_field: "CAST(data_particao AS TIMESTAMP)"
        freshness:
          warn_after: {count: 48, period: hour}
          error_after: {count: 72, period: hour}
      - name: paciente_eventos
        loaded_at_field: "CAST(data_particao AS TIMESTAMP)"
        freshness:
          warn_after: {count: 8, period: hour}
          error_after: {count: 24, period: hour}
      - name: alergia_eventos
        loaded_at_field: "CAST(data_particao AS TIMESTAMP)"
        freshness:
          warn_after: {count: 8, period: hour}
          error_after: {count: 24, period: hour}
      - name: exame_eventos
        loaded_at_field: "CAST(data_particao AS TIMESTAMP)"
        freshness:
          warn_after: {count: 8, period: hour}
          error_after: {count: 24, period: hour}
      - name: profissional_eventos
        loaded_at_field: "CAST(data_particao AS TIMESTAMP)"
        freshness:
          warn_after: {count: 8, period: hour}
          error_after: {count: 24, period: hour}
      - name: cirurgia_eventos
        loaded_at_field: "CAST(data_particao AS TIMESTAMP)"
        freshness:
          warn_after: {count: 8, period: hour}
          error_after: {count: 24, period: hour}
      - name: classificacao_risco_eventos
        loaded_at_field: "CAST(data_particao AS TIMESTAMP)"
        freshness:
          warn_after: {count: 8, period: hour}
          error_after: {count: 24, period: hour}
      - name: boletim_eventos
        loaded_at_field: "CAST(data_particao AS TIMESTAMP)"
        freshness:
          warn_after: {count: 8, period: hour}
          error_after: {count: 24, period: hour}
      - name: atendimento_eventos
        loaded_at_field: "CAST(data_particao AS TIMESTAMP)"
        freshness:
          warn_after: {count: 8, period: hour}
          error_after: {count: 24, period: hour}
      - name: diagnostico_eventos
        loaded_at_field: "CAST(data_particao AS TIMESTAMP)"
        freshness:
          warn_after: {count: 8, period: hour}
          error_after: {count: 24, period: hour}

